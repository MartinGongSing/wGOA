{% extends "base.html" %}

{% block title %} data {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

<h1>GRAPH</h1>

<!-- tooltip for precise info-->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="https://code.highcharts.com/highcharts.src.js"></script>

<script src="https://code.highcharts.com/modules/heatmap.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>

<h2>CPC_UBI </h2>
<div class="boxGray">

    <div id={{ chartID|safe }} class="chart" style="height:500px; width:100%"></div>

    <script>
        var chart_id =  {{ chartID|safe }}
        var chart =     {{ chart|safe }}
        var title =     {{ title|safe }}
        var xAxis =     {{ xAxis|safe }}
        var yAxis =     {{ yAxis|safe }}
        var series =    {{ series|safe }}

    </script>

<!-- Highchart js. Variable map shown above -->
    <script>
        $(document).ready(function() {
            $(chart_id).highcharts({
                chart: chart,
                title: title,
                xAxis: xAxis,
                yAxis: yAxis,
                series: series
            });
        });
    </script>
</div>

<h2>NEPH UBI</h2>


<div class="boxGray">

    <div id={{ chartIDNeph|safe }} class="chart" style="height:500px; width:100%"></div>

    <script>
        var chart_id_neph = {{ chartIDNeph|safe }}
        var chartNeph =   {{ chartNeph|safe }}
        var titleNeph =   {{ titleNeph|safe }}
        var xAxisNeph =   {{ xAxisNeph|safe }}
        var yAxisNeph =   {{ yAxisNeph|safe }}
        var seriesNeph =  {{ seriesNeph|safe }}

    </script>

    <!-- Highchart js. Variable map shown above -->
    <script>

        $(document).ready(function() {
            $(chart_id_neph).highcharts({
                chart: chartNeph,
                title: titleNeph,
                xAxis: xAxisNeph,
                yAxis: yAxisNeph,
                series: seriesNeph
            });
        });


    </script>

</div>



<h2>PSAP</h2>

<div class="boxGray">

    <div id={{ chartIDPsap|safe }} class="chart" style="height:500px; width:100%"></div>

    <script>
        var chart_id_psap = {{ chartIDPsap|safe }}
        var chartPsap =   {{ chartPsap|safe }}
        var titlePsap =   {{ titlePsap|safe }}
        var xAxisPsap =   {{ xAxisPsap|safe }}
        var yAxisPsap =   {{ yAxisPsap|safe }}
        var seriesPsap =  {{ seriesPsap|safe }}

    </script>

    <!-- Highchart js. Variable map shown above -->
    <script>

        $(document).ready(function() {
            $(chart_id_psap).highcharts({
                chart: chartPsap,
                title: titlePsap,
                xAxis: xAxisPsap,
                yAxis: yAxisPsap,
                series: seriesPsap
            });
        });


    </script>

</div>


<h2>APS UBI</h2>

<div class="boxGray">

    <div id={{ chartIDAps|safe }} class="chart" style="height:500px; width:100%"></div>

    <script>
        var chart_id_aps = {{ chartIDAps|safe }}
        var chartAps =   {{ chartAps|safe }}
        var titleAps =   {{ titleAps|safe }}
        var xAxisAps =   {{ xAxisAps|safe }}
        var yAxisAps =   {{ yAxisAps|safe }}
        var seriesAps =  {{ seriesAps|safe }}

    </script>

    <!-- Highchart js. Variable map shown above -->
    <script>

        $(document).ready(function() {
            $(chart_id_aps).highcharts({
                chart: chartAps,
                title: titleAps,
                xAxis: xAxisAps,
                yAxis: yAxisAps,
                series: seriesAps
            });
        });


    </script>

</div>

<figure class="highcharts-figure">
    <div id="container"></div>

</figure>
{{ chartAps|safe }}
<br>azertyuiop <br>
{{ seriesAps|safe }}

<script>

    function getPointCategoryName(point, dimension) {
    var series = point.series,
        isY = dimension === 'y',
        axis = series[isY ? 'yAxis' : 'xAxis'];
    return axis.categories[point[isY ? 'y' : 'x']];
}

Highcharts.chart('container', {

    chart: chartAps,
    title: titleAps,
    xAxis: xAxisAps,
    yAxis: yAxisAps,
    accessibility: {
        point: {
            descriptionFormatter: function (point) {
                var ix = point.index + 1,
                    xName = getPointCategoryName(point, 'x'),
                    yName = getPointCategoryName(point, 'y'),
                    val = point.value;
                return ix + '. ' + xName + ' sales ' + yName + ', ' + val + '.';
            }
        }
    },

    colorAxis: {
        min: 0,
        minColor: '#FFFFFF',
        maxColor: Highcharts.getOptions().colors[0]
    },

    legend: {
        align: 'right',
        layout: 'vertical',
        margin: 0,
        verticalAlign: 'top',
        y: 25,
        symbolHeight: 280
    },

    tooltip: {
        formatter: function () {
            return 'On <b>' + getPointCategoryName(this.point, 'x') + '</b> <br> there was <b>' +
                this.point.value + '</b> particules of <b>' + getPointCategoryName(this.point, 'y') + '</b>';
        }
    },

    series: [{
        name: 'Sales per employee',
        borderWidth: 1,
        data: [[0, 0, 10], [0, 1, 19], [0, 2, 8], [0, 3, 24], [0, 4, 67], [1, 0, 92], [1, 1, 58], [1, 2, 78], [1, 3, 117], [1, 4, 48], [2, 0, 35], [2, 1, 15], [2, 2, 123], [2, 3, 64], [2, 4, 52], [3, 0, 72], [3, 1, 132], [3, 2, 114], [3, 3, 19], [3, 4, 16], [4, 0, 38], [4, 1, 5], [4, 2, 8], [4, 3, 117], [4, 4, 115], [5, 0, 88], [5, 1, 32], [5, 2, 12], [5, 3, 6], [5, 4, 120], [6, 0, 13], [6, 1, 44], [6, 2, 88], [6, 3, 98], [6, 4, 96], [7, 0, 31], [7, 1, 1], [7, 2, 82], [7, 3, 32], [7, 4, 30], [8, 0, 85], [8, 1, 97], [8, 2, 123], [8, 3, 64], [8, 4, 84], [9, 0, 47], [9, 1, 114], [9, 2, 31], [9, 3, 48], [9, 4, 91]],
        dataLabels: {
            enabled: true,
            color: '#000000'
        }
    }],

    responsive: {
        rules: [{
            condition: {
                maxWidth: 500
            },
            chartOptions: {
                yAxis: {
                    labels: {
                        formatter: function () {
                            return this.value.charAt(0);
                        }
                    }
                }
            }
        }]
    }

});


</script>





{% endblock content %}














