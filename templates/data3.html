{% extends "base.html" %}

{% block title %} data {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

<h1>Graphical Representation</h1>

<!-- tooltip for precise info-->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="https://code.highcharts.com/highcharts.src.js"></script>

<script src="https://code.highcharts.com/modules/heatmap.js"></script>

<!--Allows to export data : -->
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>


<div class="column">
    <div class="boxGray">
        <figure>
            <div id={{ chartID|safe }} class="chart" style="height:500px; width:100%"></div>
        </figure>
        <a href="/cpc">
            <button>More info CPC</button>
        </a>
    </div>
</div>

<div class="column">
    <div class="boxGray">
        <figure>
            <div id={{ chartIDNeph|safe }} class="chart" style="height:500px; width:100%"></div>
        </figure>
        <a href="/neph">
            <button>More info Neph</button>
        </a>
    </div>
</div>


<div class="column">
    <div class="boxGray">
        <figure>
            <div id="apsid"></div>
        </figure>
        <a href="/aps">
            <button>More info APS</button>
        </a>
    </div>
</div>
            <!-- This line (down) has to be here for it to work -->
            <div id={{ chartIDAps|safe }} class="chart" style="height:1px; width:100%"></div>
            <!-- This line (up) has to be here for it to work -->
<div class="column">
    <div class="boxGray">
        <figure>
            <div id={{ chartIDPsap|safe }} class="chart" style="height:500px; width:100%"></div>
        </figure>
        <a href="/psap">
            <button>More info PSAP</button>
        </a>
    </div>
</div>




<!--###################-->
<!--####### CPC #######-->
<!--###################-->

<script>
    var chart_id =  {{ chartID|safe }}
    var chart =     {{ chart|safe }}
    var title =     {{ title|safe }}
    var xAxis =     {{ xAxis|safe }}
    var yAxis =     {{ yAxis|safe }}
    var series =    {{ series|safe }}
    var daycpc =    {{ daycpc|safe }}
    // console.log(daycpc)
    // console.log(title)
</script>
<!-- Highchart js. Variable map shown above -->
<script>
    $(document).ready(function() {
        $(chart_id).highcharts({
            chart: chart,
            title: title,
            subtitle: daycpc,
            xAxis: xAxis,
            yAxis: yAxis,
            series: series
        });
    });

</script>


<!--####################-->
<!--####### NEPH #######-->
<!--####################-->


<script>
    var chart_id_neph = {{ chartIDNeph|safe }}
    var chartNeph =   {{ chartNeph|safe }}
    var titleNeph =   {{ titleNeph|safe }}
    var xAxisNeph =   {{ xAxisNeph|safe }}
    var yAxisNeph =   {{ yAxisNeph|safe }}
    var seriesNeph =  {{ seriesNeph|safe }}
    var dayneph = {{ dayneph|safe }}
</script>
<!-- Highchart js. Variable map shown above -->
<script>

    $(document).ready(function() {
        $(chart_id_neph).highcharts({
            chart: chartNeph,
            title: titleNeph,
            subtitle: dayneph,
            xAxis: xAxisNeph,
            yAxis: yAxisNeph,
            series: seriesNeph
        });
    });
</script>


<!--####################-->
<!--####### PSAP #######-->
<!--####################-->

<script>
    var chart_id_psap = {{ chartIDPsap|safe }}
    var chartPsap =   {{ chartPsap|safe }}
    var titlePsap =   {{ titlePsap|safe }}
    var xAxisPsap =   {{ xAxisPsap|safe }}
    var yAxisPsap =   {{ yAxisPsap|safe }}
    var seriesPsap =  {{ seriesPsap|safe }}
    var daypsap = {{ daypsap|safe }}

</script>

<!-- Highchart js. Variable map shown above -->
<script>

    $(document).ready(function() {
        $(chart_id_psap).highcharts({
            chart: chartPsap,
            title: titlePsap,
            subtitle: daypsap,
            xAxis: xAxisPsap,
            yAxis: yAxisPsap,
            series: seriesPsap
        });
    });
</script>


<!--###################-->
<!--####### APS #######-->
<!--###################-->

<script>
    var chart_id_aps = {{ chartIDAps|safe }}
    var chartAps =   {{ chartAps|safe }}
    var chartAps2 =   {{ chartAps2|safe }}
    var titleAps =   {{ titleAps|safe }}
    var xAxisAps =   {{ xAxisAps|safe }}
    var yAxisAps =   {{ yAxisAps|safe }}
    var dayaps =       {{ dayaps|safe }}
</script>




<!-- SCRIPT FOR ALL DATA IN LIST -->
<script>

    var datatest1 =   {{ datatest1|safe }}
    var datatest2 =   {{ datatest2|safe }}
    var datatest3 =   {{ datatest3|safe }}
    var datatest4 =   {{ datatest4|safe }}
    var datatest5 =   {{ datatest5|safe }}
    var datatest6 =   {{ datatest6|safe }}
    var datatest7 =   {{ datatest7|safe }}
    var datatest8 =   {{ datatest8|safe }}
    var datatest9 =   {{ datatest9|safe }}
    var datatest10=   {{ datatest10|safe }}
    var datatest11=   {{ datatest11|safe }}
    var datatest12=   {{ datatest12|safe }}
    var datatest13=   {{ datatest13|safe }}
    var datatest14=   {{ datatest14|safe }}
    var datatest15=   {{ datatest15|safe }}
    var datatest16=   {{ datatest16|safe }}
    var datatest17=   {{ datatest17|safe }}
    var datatest18=   {{ datatest18|safe }}
    var datatest19=   {{ datatest19|safe }}
    var datatest20=   {{ datatest20|safe }}
    var datatest21=   {{ datatest21|safe }}
    var datatest22=   {{ datatest22|safe }}
    var datatest23=   {{ datatest23|safe }}
    var datatest24=   {{ datatest24|safe }}
    var datatest25=   {{ datatest25|safe }}
    var datatest26=   {{ datatest26|safe }}
    var datatest27=   {{ datatest27|safe }}
    var datatest28=   {{ datatest28|safe }}
    var datatest29=   {{ datatest29|safe }}
    var datatest30=   {{ datatest30|safe }}
    var datatest31=   {{ datatest31|safe }}
    var datatest32=   {{ datatest32|safe }}
    var datatest33=   {{ datatest33|safe }}
    var datatest34=   {{ datatest34|safe }}
    var datatest35=   {{ datatest35|safe }}
    var datatest36=   {{ datatest36|safe }}
    var datatest37=   {{ datatest37|safe }}
    var datatest38=   {{ datatest38|safe }}
    var datatest39=   {{ datatest39|safe }}
    var datatest40=   {{ datatest40|safe }}
    var datatest41=   {{ datatest41|safe }}
    var datatest42=   {{ datatest42|safe }}
    var datatest43=   {{ datatest43|safe }}



    const listing = [];
    let ylist = [];

    for (let y = 0; y <= 42; y++) {
        switch (y) {
            case 0:
                ylist = datatest1;
                break;
            case 1 :
                ylist = datatest2;
                break;
            case 2:
                ylist = datatest3;
                break;
            case 3:
                ylist = datatest4;
                break;
            case 4:
                ylist = datatest5;
                break;
            case 5:
                ylist = datatest6;
                break;
            case 6:
                ylist = datatest7;
                break;
            case 7:
                ylist = datatest8;
                break;
            case 8:
                ylist = datatest9;
                break;
            case 9:
                ylist = datatest10;
                break;
            case 10 :
                ylist = datatest11;
                break;
            case 11 :
                ylist = datatest12;
                break;
            case 12:
                ylist = datatest13;
                break;
            case 13:
                ylist = datatest14;
                break;
            case 14:
                ylist = datatest15;
                break;
            case 15:
                ylist = datatest16;
                break;
            case 16:
                ylist = datatest17;
                break;
            case 17:
                ylist = datatest18;
                break;
            case 18:
                ylist = datatest19;
                break;
            case 19:
                ylist = datatest20;
                break;
            case 20 :
                ylist = datatest21;
                break;
            case 21 :
                ylist = datatest22;
                break;
            case 22:
                ylist = datatest23;
                break;
            case 23:
                ylist = datatest24;
                break;
            case 24:
                ylist = datatest25;
                break;
            case 25:
                ylist = datatest26;
                break;
            case 26:
                ylist = datatest27;
                break;
            case 27:
                ylist = datatest28;
                break;
            case 28:
                ylist = datatest29;
                break;
            case 29:
                ylist = datatest30;
                break;
            case 30 :
                ylist = datatest31;
                break;
            case 31 :
                ylist = datatest32;
                break;
            case 32:
                ylist = datatest33;
                break;
            case 33:
                ylist = datatest34;
                break;
            case 34:
                ylist = datatest35;
                break;
            case 35:
                ylist = datatest36;
                break;
            case 36:
                ylist = datatest37;
                break;
            case 37:
                ylist = datatest38;
                break;
            case 38:
                ylist = datatest39;
                break;
            case 39:
                ylist = datatest40;
                break;
            case 40 :
                ylist = datatest41;
                break;
            case 41 :
                ylist = datatest42;
                break;
            case 42 :
                ylist = datatest43;
                break;


        }
        for (let x = 0; x <= 39; x++) {
          listing.push([x,y,ylist.shift()]);
        }
        // document.write(listing)
    }

    // console.log(listing);

</script>


<script>

    // console.log(dayaps);


    function getPointCategoryName(point, dimension) {
    var series = point.series,
        isY = dimension === 'y',
        axis = series[isY ? 'yAxis' : 'xAxis'];
    return axis.categories[point[isY ? 'y' : 'x']];
    }

    Highcharts.chart('apsid', {

        chart: chartAps2,
        title: titleAps,
        subtitle: dayaps,
        xAxis: xAxisAps,
        yAxis: yAxisAps,
        series: [{
            name: 'aps ubi',
            borderWidth: 1,
            turboThreshold: 0, // set to 0 to have no limitations of values (default 1000 (40x 25))
            data:listing,
                // [
                // [0, 0, vd1], [0, 1, vd2], [0, 2, vd3], [0, 3, vd4], [0, 4, vd5], [0, 5, vd6], [0, 6, vd7], [0, 7, vd8], [0, 8, vd9],
                // [1, 0, vd11], [1, 1, vd12], [1, 2, vd13], [1, 3, vd14], [1, 4, vd15], [1, 5, vd16], [1, 6, vd17], [1, 7, vd18],[1, 8, vd19],
                // [2, 0, vd21], [2, 1, vd22], [2, 2, vd23], [2, 3, vd24], [2, 4, vd25], [2, 5, vd26], [2, 6, vd27], [2, 7, vd28],[2, 8, vd29],
                // [3, 0, vd31], [3, 1, vd32], [3, 2, vd33], [3, 3, vd34], [3, 4, vd35], [3, 5, vd36], [3, 6, vd37], [3, 7, vd38],[3, 8, vd39],
                // [4, 0, vd41], [4, 1, vd42], [4, 2, vd43], [4, 3, vd44], [4, 4, vd45], [4, 5, vd46], [4, 6, vd47], [4, 7, vd48],[4, 8, vd49],
                // [5, 0, vd51], [5, 1, vd52], [5, 2, vd53], [5, 3, vd54], [5, 4, vd55], [5, 5, vd56], [5, 6, vd57], [5, 7, vd58],[5, 8, vd59],
            // ],

            dataLabels: {
                enabled: false,
                color: '#000000'
            }
        }],
        accessibility: {
            point: {
                descriptionFormatter: function (point) {
                    var ix = point.index + 1,
                        xName = getPointCategoryName(point, 'x'),
                        yName = getPointCategoryName(point, 'y'),
                        val = point.value;
                    return ix + '. ' + xName + ' time ' + yName + ', ' + val + '.' + 'change this is data3.HTML';
                }
            }
        },
        colorAxis: {
            stops: [
                [0, '#3060cf'],
                [0.5, '#fffbbc'],
                [0.9, '#c4463a'],
                [1, '#c4463a']
            ],
        },
        // colorAxis: {
        //
        //     min: 0,
        //     minColor: '#FFFFFF',
        //     maxColor: Highcharts.getOptions().colors[0]
        // },
        legend: {
            align: 'right',
            layout: 'vertical',
            margin: 0,
            verticalAlign: 'top',
            y: 25,
            symbolHeight: 280
        },
        tooltip: {
            formatter: function () {
                return 'At <b>' + getPointCategoryName(this.point, 'x') + '</b> <br> there was <b>' +
                    this.point.value + '</b> particules of <b>' + getPointCategoryName(this.point, 'y') + '</b>';
            }
        },
        responsive: {
            rules: [{
                condition: {
                    maxWidth: 500
                },
                chartOptions: {
                    yAxis: {
                        labels: {
                            formatter: function () {
                                return this.value.charAt(0);
                            }
                        }
                    }
                }
            }]
        }

    });


</script>






{% endblock content %}

